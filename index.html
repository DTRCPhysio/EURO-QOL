<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>EuroQoL 5 維度 5 等級（EQ-5D-5L）</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", "Microsoft JhengHei", sans-serif;
      margin: 20px;
      line-height: 1.6;
    }
    h1, h2 {
      margin-bottom: 0.3em;
    }
    .section {
      margin-bottom: 20px;
      padding: 12px 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .item-title {
      font-weight: bold;
      margin-bottom: 8px;
    }
    .options {
      margin-left: 1em;
    }
    .options label {
      display: block;
      margin: 2px 0;
    }
    .vas-container {
      margin-top: 10px;
    }
    .vas-scale {
      position: relative;
      height: 260px;
      width: 120px;
      border-left: 2px solid #000;
      margin: 10px 0;
      padding-left: 20px;
    }
    .vas-mark {
      position: absolute;
      left: -6px;
      width: 12px;
      height: 1px;
      background: #000;
    }
    .vas-label {
      position: absolute;
      left: 20px;
      font-size: 12px;
      transform: translateY(50%);
    }
    .vas-input {
      margin-top: 10px;
      font-size: 16px;
    }
    .note {
      font-size: 0.9em;
      color: #555;
    }
  </style>
</head>
<body>

<h1>EuroQoL 5 維度 5 等級（EQ-5D-5L）</h1>

<p>請在每個標題下列選最能形容您今天的健康狀況的一個方格。</p>

<!-- 1) 行動能力 -->
<div class="section">
  <div class="item-title">1）行動能力</div>
  <div class="options">
    <label>
      <input type="radio" name="mobility" value="1">
      我可以四處走動，沒有任何問題
    </label>
    <label>
      <input type="radio" name="mobility" value="2">
      我的行動有輕微問題
    </label>
    <label>
      <input type="radio" name="mobility" value="3">
      我的行動有中度問題
    </label>
    <label>
      <input type="radio" name="mobility" value="4">
      我的行動有嚴重問題
    </label>
    <label>
      <input type="radio" name="mobility" value="5">
      我無法行動
    </label>
  </div>
</div>

<!-- 2) 自我照顧 -->
<div class="section">
  <div class="item-title">2）自我照顧</div>
  <div class="options">
    <label>
      <input type="radio" name="selfcare" value="1">
      我在洗澡或穿衣方面沒有任何問題
    </label>
    <label>
      <input type="radio" name="selfcare" value="2">
      我在洗澡或穿衣方面有輕微問題
    </label>
    <label>
      <input type="radio" name="selfcare" value="3">
      我在洗澡或穿衣方面有中度問題
    </label>
    <label>
      <input type="radio" name="selfcare" value="4">
      我在洗澡或穿衣方面有嚴重問題
    </label>
    <label>
      <input type="radio" name="selfcare" value="5">
      我無法自己洗澡或穿衣
    </label>
  </div>
</div>

<!-- 3) 平常活動 -->
<div class="section">
  <div class="item-title">3）平常活動（如工作、讀書、家務、家庭或休閒活動）</div>
  <div class="options">
    <label>
      <input type="radio" name="usual_activities" value="1">
      我能進行平常活動，沒有任何問題
    </label>
    <label>
      <input type="radio" name="usual_activities" value="2">
      我在進行平常活動方面有輕微問題
    </label>
    <label>
      <input type="radio" name="usual_activities" value="3">
      我在進行平常活動方面有中度問題
    </label>
    <label>
      <input type="radio" name="usual_activities" value="4">
      我在進行平常活動方面有嚴重問題
    </label>
    <label>
      <input type="radio" name="usual_activities" value="5">
      我無法進行平常活動
    </label>
  </div>
</div>

<!-- 4) 疼痛 / 不舒服 -->
<div class="section">
  <div class="item-title">4）疼痛 / 不舒服</div>
  <div class="options">
    <label>
      <input type="radio" name="pain_discomfort" value="1">
      我沒有任何疼痛或不舒服
    </label>
    <label>
      <input type="radio" name="pain_discomfort" value="2">
      我覺得輕微疼痛或不舒服
    </label>
    <label>
      <input type="radio" name="pain_discomfort" value="3">
      我覺得中度疼痛或不舒服
    </label>
    <label>
      <input type="radio" name="pain_discomfort" value="4">
      我覺得嚴重疼痛或不舒服
    </label>
    <label>
      <input type="radio" name="pain_discomfort" value="5">
      我覺得極度疼痛或不舒服
    </label>
  </div>
</div>

<!-- 5) 焦慮 / 沮喪 -->
<div class="section">
  <div class="item-title">5）焦慮 / 沮喪</div>
  <div class="options">
    <label>
      <input type="radio" name="anxiety_depression" value="1">
      我不覺得焦慮或沮喪
    </label>
    <label>
      <input type="radio" name="anxiety_depression" value="2">
      我覺得輕微焦慮或沮喪
    </label>
    <label>
      <input type="radio" name="anxiety_depression" value="3">
      我覺得中度焦慮或沮喪
    </label>
    <label>
      <input type="radio" name="anxiety_depression" value="4">
      我覺得嚴重焦慮或沮喪
    </label>
    <label>
      <input type="radio" name="anxiety_depression" value="5">
      我覺得極度焦慮或沮喪
    </label>
  </div>
</div>

<div class="section">
  <h2>今天的整體健康狀況</h2>
  <p>
    請在下列量尺上點擊，以表示您今天的健康狀況。<br>
    0 = 您能想像到的最糟的健康狀況；100 = 您能想像到的最好的健康狀況。<br>
    點擊後會自動顯示數值（精確到 0.1）。
  </p>

  <style>
    .vas-wrapper {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-top: 20px;
    }
    .vas-scale-clickable {
      position: relative;
      width: 60px;
      height: 400px;
      background: linear-gradient(to top, #eee, #fff);
      border: 2px solid #000;
      cursor: crosshair;
    }
    .vas-marker {
      position: absolute;
      left: -10px;
      width: 80px;
      height: 2px;
      background: red;
      display: none;
    }
    .vas-label-top, .vas-label-bottom {
      font-size: 14px;
      width: 120px;
    }
  </style>

  <div class="vas-wrapper">
    <div class="vas-label-top">最好的健康狀況 (100)</div>

    <div class="vas-scale-clickable" id="vasScale">
      <div id="vasMarker" class="vas-marker"></div>
    </div>

    <div class="vas-label-bottom">最糟的健康狀況 (0)</div>

    <div>
      <label>您今天的健康狀況 = </label>
      <input type="number" id="vasValue" min="0" max="100" step="0.1" style="width:80px;">
    </div>
  </div>

  <script>
    const vasScale = document.getElementById("vasScale");
    const vasMarker = document.getElementById("vasMarker");
    const vasValue = document.getElementById("vasValue");

    vasScale.addEventListener("click", function(event) {
      const rect = vasScale.getBoundingClientRect();
      const y = event.clientY - rect.top; // click position
      const height = rect.height;

      // Convert click position to 0–100 scale (inverted)
      let value = (1 - y / height) * 100;
      value = Math.max(0, Math.min(100, value)); // clamp
      value = Math.round(value * 10) / 10; // round to 0.1

      // Move marker
      vasMarker.style.top = y + "px";
      vasMarker.style.display = "block";

      // Update box
      vasValue.value = value;
    });

    // If user manually types a number, move the marker
    vasValue.addEventListener("input", function() {
      let v = parseFloat(vasValue.value);
      if (isNaN(v)) return;

      v = Math.max(0, Math.min(100, v));
      const rect = vasScale.getBoundingClientRect();
      const height = rect.height;

      const y = height * (1 - v / 100);

      vasMarker.style.top = y + "px";
      vasMarker.style.display = "block";
    });
  </script>
</div>

</body>
</html>
